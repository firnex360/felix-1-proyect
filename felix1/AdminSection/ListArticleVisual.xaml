<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:syncfusion="clr-namespace:Syncfusion.Maui.DataGrid;assembly=Syncfusion.Maui.DataGrid"
             BackgroundColor="White"
             x:Class="felix1.ListArticleVisual">

    <Grid RowDefinitions="Auto,*">

        <HorizontalStackLayout Grid.Row="0"
                               Spacing="20">
            <Frame
                BackgroundColor="#F5F7FA"
                CornerRadius="10"
                Padding="0"
                HasShadow="False"
                VerticalOptions="Center"
                HeightRequest="44"
                BorderColor="#FF74777A"
                WidthRequest="340"
                Margin="20,10,0,0">

                <SearchBar x:Name="searchBar"
                           Placeholder="Buscar artículos..."
                           TextChanged="OnSearchBarTextChanged"
                           TextColor="#22223B"
                           PlaceholderColor="#A0AEC0"
                           BackgroundColor="Transparent"
                           CancelButtonColor="#4F8FCB"
                           FontSize="16"
                           Margin="8,0"
                           HeightRequest="44"
                           HorizontalOptions="Fill"
                           />
            </Frame>


            <Button Margin="0,10,0,0"
                    Text="Agregar Artículo"
                    TextColor="Black"
                    BackgroundColor="#33B7E3"
                    Clicked="OnCreateArticleWindowClicked"
                    HorizontalOptions="Start"
                    VerticalOptions="Center"/>

        </HorizontalStackLayout>

        <!-- Fullscreen DataGrid -->
        <Frame Grid.Row="1"
               CornerRadius="10"
               Padding="0"
               HasShadow="True"
               BackgroundColor="#F5F7FA"
               BorderColor="#FF74777A"
               Margin="20">

            <syncfusion:SfDataGrid x:Name="dataGrid"
                                   ItemsSource="{Binding Articles}"
                                   VerticalOptions="Fill"
                                   HorizontalOptions="Fill"
                                   HeaderRowHeight="50"
                                   ColumnWidthMode="FitByHeader"
                                   AutoGenerateColumnsMode="None">
                                

                <!-- Custom Columns -->
                <syncfusion:SfDataGrid.Columns>

                    <!-- ID Column -->
                    <syncfusion:DataGridNumericColumn
                        MappingName="Id"
                        HeaderText="Id Articulo"
                        Format="000"/>

                    <!-- Name Column -->
                    <syncfusion:DataGridTextColumn
                        MappingName="Name"
                        HeaderText="Nombre del Articulo"/>

                    <!-- Primary Price -->
                    <syncfusion:DataGridNumericColumn
                        MappingName="PriPrice"
                        HeaderText="Precio Primario"
                        Format="C2"/>
                    <!-- Currency formatting -->

                    <!-- Secondary Price -->
                    <syncfusion:DataGridNumericColumn
                        MappingName="SecPrice"
                        HeaderText="Precio Secundario"
                        Format="C2"/>

                    <!-- Category -->
                    <syncfusion:DataGridTextColumn
                        MappingName="Category"
                        HeaderText="Categoria"/>

                    <syncfusion:DataGridTemplateColumn HeaderText="Actions"
                                                       Width="300">
                        <syncfusion:DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <HorizontalStackLayout Spacing="5"
                                                       HorizontalOptions="Center">

                                    <Button
                                        Text="Editar"
                                        FontSize="12"
                                        Padding="4"
                                        Clicked="OnEditClicked"/>

                                    <Button
                                        Text="Eliminar"
                                        FontSize="12"
                                        Padding="4"
                                        BackgroundColor="Red"
                                        TextColor="White"
                                        Clicked="OnDeleteClicked"/>
                                </HorizontalStackLayout>
                            </DataTemplate>
                        </syncfusion:DataGridTemplateColumn.CellTemplate>
                    </syncfusion:DataGridTemplateColumn>
                </syncfusion:SfDataGrid.Columns>
            </syncfusion:SfDataGrid>
        </Frame>
    </Grid>
</ContentView>
